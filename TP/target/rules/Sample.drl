package com.sample

import logic.*;
import java.util.Scanner;
 
  /*
rule "nome"
    when

    then

end
*/

rule "Paciente nao tem tamanho registado"
salience 100
	when 
		$p:Paciente (diagnostico.size() == 0)
	then
		Scanner sc = new Scanner(System.in);
		float i = sc.nextFloat();
end

rule "Paciente tem 1 nodulo menor de 1cm"
salience 90
	when
		forall($n: Nodulo (tamanho < 1))
	then
		System.out.println("Repetir ultra-som em 4 meses");
end

rule "Paciente tem nodulo entre 1 a 2 cm"
salience 90	
	when
		$p:Paciente( diagnostico.nodulo.tamanho > 1 || diagnostico.nodulo.tamanho < 2)
	then
		if (p.diagnostico.fourPhaseCT >= 1)
			System.out.println("BIG CANCER");
		else
			if(p.diagnostico.biopsia == TRUE)
				System.out.println("BIG CANCER");
			else
				System.out.println("NO CANCER");
end

rule "Paciente tem nodulo maior ou igual a 2 cm"
salience 90	
	when
		$p:Paciente ( diagnostico.nodulo.tamanho >= 2)
	then
		if	(p.diagnostico.fourPhaseCT >= 1)
			System.out.println("BIG CANCER");
		else
			if(p.diagnostico.biopsia == TRUE)
				System.out.println("BIG CANCER");
			else
				System.out.println("NO CANCER");
end

rule "Very early stage single"
salience 80
	when
		$p:Paciente (stage.getStage()=='0')
		$d:Diagnostico (nodulo.size()==1)
	then
		if (d.portalPressure == false)
			System.out.println("RESSECTION");
		else
			if (d.hasAssossiatedDiseases == false)
				System.out.println("TRANSPLANT");
			else
				System.out.println("Radiofrequency ablation");
end

rule "Very early stage multiple"
salience 80
	when
		$p:Paciente (stage.getStage()=='0')
		$d:Diagnostico (nodulo.size()>1)
	then
		if (d.hasAssossiatedDiseases == false)
			System.out.println("TRANSPLANT");
		else
			System.out.println("Radiofrequency ablation");
end

rule "Early stage"
salience 80
	when
		$p:Paciente (stage.getStage()=='A')
		$d:Diagnostico (nodulo.size()>1)
	then
		if (d.hasAssossiatedDiseases == false)
			System.out.println("TRANSPLANT");
		else
			System.out.println("Radiofrequency ablation");
end

rule "Intermediate stage"
salience 80
	when
		$p:Paciente (stage.getStage()=='B')
	then
		System.out.println("Transarterial chemoembolization for liver cancer.");
end

rule "Advanced stage"
salience 80
	when
		$p:Paciente (stage.getStage()=='C')
	then
		System.out.println("Sorafenib");
end

rule "Terminal stage"
salience 80
	when 
		$p:Paciente (stage.getStage()=='D')
	then
		System.out.println("Best supportive care");
end